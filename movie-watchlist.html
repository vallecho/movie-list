<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Watchlist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        h1 {
            font-size: 1.8em;
            color: #222;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            padding: 15px;
            background: #fafafa;
            border-radius: 6px;
        }

        .stat {
            font-size: 0.9em;
            color: #666;
        }

        .stat strong {
            color: #222;
            font-size: 1.2em;
            display: block;
        }

        .search {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            margin-bottom: 20px;
        }

        .search:focus {
            outline: none;
            border-color: #999;
        }

        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            background: #f5f5f5;
        }

        .filter-btn.active {
            background: #333;
            color: white;
            border-color: #333;
        }

        .genre-section {
            margin-bottom: 30px;
        }

        .genre-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 15px;
            cursor: pointer;
            user-select: none;
        }

        .genre-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
        }

        .genre-count {
            font-size: 0.9em;
            color: #666;
        }

        .movie {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .movie:last-child {
            border-bottom: none;
        }

        .movie.watched {
            opacity: 0.5;
        }

        .checkbox {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
        }

        .movie-info {
            flex: 1;
        }

        .movie-title {
            font-weight: 600;
            color: #222;
            margin-bottom: 4px;
        }

        .movie-meta {
            font-size: 0.85em;
            color: #999;
            margin-bottom: 6px;
        }

        .movie-description {
            font-size: 0.9em;
            color: #666;
        }

        .reset-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background: #333;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .reset-btn:hover {
            background: #555;
        }

        .hidden {
            display: none;
        }

        .collapsed .movie-list {
            display: none;
        }

        .collapse-icon {
            transition: transform 0.3s;
        }

        .collapsed .collapse-icon {
            transform: rotate(-90deg);
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Movie Watchlist</h1>
            <div class="stats">
                <div class="stat">
                    <strong id="totalCount">0</strong>
                    Total
                </div>
                <div class="stat">
                    <strong id="watchedCount">0</strong>
                    Watched
                </div>
                <div class="stat">
                    <strong id="remainingCount">0</strong>
                    Remaining
                </div>
            </div>
        </header>

        <input type="text" class="search" id="search" placeholder="Search movies...">

        <div class="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="unwatched">Unwatched</button>
            <button class="filter-btn" data-filter="watched">Watched</button>
        </div>

        <div id="content"></div>

        <button class="reset-btn" onclick="resetAll()">Reset All</button>
    </div>

    <script>
        const movies = {
            "Drama": [
                { title: "The Killing of a Sacred Deer", year: "2017", desc: "A surgeon's life unravels when a mysterious teenager enters his life." },
                { title: "Stoker", year: "2013", desc: "After her father's death, a girl's mysterious uncle comes to live with her and her emotionally unstable mother." },
                { title: "Trainspotting", year: "1996", desc: "Heroin addicts in Edinburgh navigate recovery, relapse, and redemption." },
                { title: "Trainspotting 2", year: "2017", desc: "Twenty years later, the gang reunites in Edinburgh to confront their past." },
                { title: "In Bruges", year: "2008", desc: "Two hitmen hide out in Bruges after a job goes wrong." },
                { title: "Harold and Maude", year: "1971", desc: "A young man obsessed with death falls in love with a vibrant 79-year-old woman." },
                { title: "Laurence Anyways", year: "2012", desc: "A love story spanning a decade about a trans woman and her partner." },
                { title: "Opening Night", year: "1977", desc: "An actress's breakdown during a theatrical production." },
                { title: "The House That Jack Built", year: "2018", desc: "A serial killer recounts his twelve-year murder spree." },
                { title: "Nymphomaniac", year: "2013", desc: "A self-diagnosed nymphomaniac recounts her erotic experiences." }
            ],
            "Comedy": [
                { title: "Hot Fuzz", year: "2007", desc: "A top London cop is transferred to a seemingly quiet village where gruesome accidents occur." },
                { title: "Shaun of the Dead", year: "2004", desc: "A man's life is disrupted when a zombie apocalypse breaks out in London." },
                { title: "The World's End", year: "2013", desc: "Five friends reunite for a pub crawl and discover an alien invasion." },
                { title: "Baby Driver", year: "2017", desc: "A talented getaway driver relies on music to focus during heists." },
                { title: "The Big Lebowski", year: "1998", desc: "A lazy slacker is mistaken for a millionaire and drawn into a complex kidnapping plot." },
                { title: "Burn After Reading", year: "2008", desc: "Gym employees stumble upon a disc containing CIA secrets." },
                { title: "Fargo", year: "1996", desc: "A car salesman's debt leads to a botched kidnapping in snowy Minnesota." },
                { title: "Raising Arizona", year: "1987", desc: "An ex-con and ex-cop couple kidnap a baby when they can't conceive." },
                { title: "The Nice Guys", year: "2016", desc: "A private eye and a hired enforcer team up in 1970s Los Angeles." },
                { title: "This Is Spinal Tap", year: "1984", desc: "A rockumentary following a declining British heavy metal band on tour." },
                { title: "The Other Guys", year: "2010", desc: "Two mismatched cops stumble onto a major financial crime." },
                { title: "Dicks: The Musical", year: "2023", desc: "Two identical businessmen discover they're twins and reunite their divorced parents." },
                { title: "The Benchwarmers", year: "2006", desc: "Three adult nerds form a baseball team to take on Little League bullies." },
                { title: "The Room", year: "2003", desc: "A banker's fiancée seduces his best friend. (Cult classic for being hilariously bad)" },
                { title: "Everybody Wants Some!!", year: "2016", desc: "College baseball players navigate parties and girls in 1980s Texas." },
                { title: "Frank", year: "2014", desc: "An aspiring musician joins an eccentric pop band led by a man in a giant fake head." },
                { title: "Hedwig and the Angry Inch", year: "2001", desc: "A transgender punk-rock singer from East Berlin tours America." }
            ],
            "Horror / Thriller": [
                { title: "Bugonia", year: "2026", desc: "Yorgos Lanthimos film." },
                { title: "Paranormal Activity", year: "2007", desc: "A couple is haunted by a supernatural presence in their home, captured on camera." },
                { title: "Blair Witch Project", year: "1999", desc: "Three students disappear while filming a documentary about a local legend." },
                { title: "Late Night with the Devil", year: "2023", desc: "A 1970s talk show's Halloween special goes horrifically wrong." },
                { title: "Suspiria", year: "2018", desc: "A dancer joins a prestigious Berlin academy that's a front for something sinister." },
                { title: "Black Swan", year: "2010", desc: "A ballerina's obsession with a role drives her to madness." },
                { title: "Videodrome", year: "1983", desc: "A TV programmer discovers a broadcast signal featuring extreme violence and torture." },
                { title: "Nightcrawler", year: "2014", desc: "A freelance cameraman blurs ethical lines filming violent crime scenes for news." }
            ],
            "Action / Crime": [
                { title: "Drive", year: "2011", desc: "A Hollywood stunt driver moonlights as a getaway driver." },
                { title: "The Fifth Element", year: "1997", desc: "A cab driver must help save Earth from cosmic evil in the 23rd century." },
                { title: "Die Hard", year: "1988", desc: "A New York cop battles terrorists who've taken over a Los Angeles skyscraper." },
                { title: "High and Low", year: "1963", desc: "An executive's son is kidnapped, but his chauffeur's son is taken by mistake." }
            ],
            "Sci-Fi / Fantasy": [
                { title: "The Phoenician Scheme", year: "", desc: "Wes Anderson film." },
                { title: "Monty Python and the Holy Grail", year: "1975", desc: "King Arthur and his knights embark on a low-budget search for the Holy Grail." },
                { title: "Last Night in Soho", year: "2021", desc: "A fashion student is mysteriously transported to 1960s London." },
                { title: "The Hitchhiker's Guide to the Galaxy", year: "2005", desc: "Earth is demolished for a hyperspace bypass; one human escapes with an alien friend." },
                { title: "Donnie Darko", year: "2001", desc: "A troubled teenager experiences visions of a man in a rabbit suit predicting the world's end." }
            ],
            "Romance / Musicals": [
                { title: "Notting Hill", year: "1999", desc: "A bookshop owner falls in love with a famous American actress." },
                { title: "Bridget Jones's Diary", year: "2001", desc: "A British woman decides to take control of her life and documents her journey." },
                { title: "Magic Mike", year: "2012", desc: "A male stripper teaches a younger performer about the lifestyle." },
                { title: "Happy Together", year: "1997", desc: "Two men from Hong Kong have a turbulent relationship in Argentina." }
            ],
            "Animation": [
                { title: "The Triplets of Belleville", year: "2003", desc: "A grandmother and her dog rescue her grandson, a Tour de France cyclist, from the French mafia." },
                { title: "Persepolis", year: "2007", desc: "An Iranian girl grows up during the Islamic Revolution." },
                { title: "Mary and Max", year: "2009", desc: "A lonely Australian girl befriends an overweight New Yorker with Asperger's." },
                { title: "Fantastic Planet", year: "1973", desc: "Humans are kept as pets on an alien planet dominated by giant blue beings." }
            ],
            "Arthouse / International": [
                { title: "Rental Family", year: "2023", desc: "A man who rents out actors to play his family confronts his real past." },
                { title: "Mr. Lonely", year: "2007", desc: "Michael Jackson impersonator finds a commune of celebrity impersonators." },
                { title: "Close-up", year: "1990", desc: "Iranian film about a man who impersonates a famous director." },
                { title: "Leningrad Cowboys Go America", year: "1989", desc: "A Finnish band tours America with their frozen bandmate." },
                { title: "Sweet Dreams", year: "2023", desc: "Turkish film about a family's vacation in a coastal town." },
                { title: "Ran", year: "1985", desc: "Kurosawa's adaptation of King Lear set in medieval Japan." },
                { title: "Throne of Blood", year: "1957", desc: "Kurosawa's adaptation of Macbeth set in feudal Japan." }
            ],
            "Mystery / Thriller": [
                { title: "Fight Club", year: "1999", desc: "An insomniac office worker forms an underground fight club." },
                { title: "The Girl with the Dragon Tattoo", year: "2011", desc: "A journalist and a hacker investigate a wealthy family's dark history." },
                { title: "Gone Girl", year: "2014", desc: "A woman's disappearance becomes a media sensation with dark twists." },
                { title: "The Social Network", year: "2010", desc: "The founding of Facebook and the lawsuits that followed." },
                { title: "Room", year: "2015", desc: "A woman and her son escape from captivity and adjust to the outside world." }
            ],
            "Family / Kids": [
                { title: "Home Alone", year: "1990", desc: "An 8-year-old defends his house from burglars when accidentally left behind." },
                { title: "The Invasion", year: "2007", desc: "A psychiatrist discovers an alien epidemic turning people emotionless." }
            ],
            "TV Series": [
                { title: "BEEF", year: "2023", desc: "Two strangers' road rage incident escalates into obsessive feud." },
                { title: "Mindhunter", year: "2017-2019", desc: "FBI agents interview imprisoned serial killers to solve ongoing cases." }
            ]
        };

        let watched = JSON.parse(localStorage.getItem('watchlist')) || {};
        let currentFilter = 'all';
        let searchTerm = '';

        function render() {
            const content = document.getElementById('content');
            content.innerHTML = '';

            Object.keys(movies).forEach(genre => {
                const section = document.createElement('div');
                section.className = 'genre-section';

                const genreMovies = movies[genre].filter(m => shouldShow(m, genre));
                if (genreMovies.length === 0) return;

                const watchedInGenre = genreMovies.filter(m => watched[getId(genre, m.title)]).length;

                const header = document.createElement('div');
                header.className = 'genre-header';
                header.onclick = () => section.classList.toggle('collapsed');
                header.innerHTML = `
                    <div class="genre-title"><span class="collapse-icon">▼</span> ${genre}</div>
                    <div class="genre-count">${watchedInGenre}/${genreMovies.length}</div>
                `;

                const list = document.createElement('div');
                list.className = 'movie-list';

                genreMovies.forEach(movie => {
                    const id = getId(genre, movie.title);
                    const isWatched = watched[id] || false;

                    const div = document.createElement('div');
                    div.className = 'movie' + (isWatched ? ' watched' : '');
                    div.innerHTML = `
                        <input type="checkbox" class="checkbox" ${isWatched ? 'checked' : ''} 
                            onchange="toggle('${id}', this.checked)">
                        <div class="movie-info">
                            <div class="movie-title">${movie.title}</div>
                            ${movie.year ? `<div class="movie-meta">${movie.year}</div>` : ''}
                            <div class="movie-description">${movie.desc}</div>
                        </div>
                    `;
                    list.appendChild(div);
                });

                section.appendChild(header);
                section.appendChild(list);
                content.appendChild(section);
            });

            updateStats();
        }

        function shouldShow(movie, genre) {
            if (searchTerm) {
                const search = searchTerm.toLowerCase();
                const matches = movie.title.toLowerCase().includes(search) ||
                               movie.desc.toLowerCase().includes(search) ||
                               (movie.year && movie.year.includes(search)) ||
                               genre.toLowerCase().includes(search);
                if (!matches) return false;
            }

            const id = getId(genre, movie.title);
            const isWatched = watched[id] || false;

            if (currentFilter === 'watched' && !isWatched) return false;
            if (currentFilter === 'unwatched' && isWatched) return false;

            return true;
        }

        function getId(genre, title) {
            return `${genre}::${title}`;
        }

        function toggle(id, isWatched) {
            watched[id] = isWatched;
            localStorage.setItem('watchlist', JSON.stringify(watched));
            render();
        }

        function updateStats() {
            let total = 0, watchedCount = 0;
            Object.keys(movies).forEach(genre => {
                movies[genre].forEach(m => {
                    total++;
                    if (watched[getId(genre, m.title)]) watchedCount++;
                });
            });

            document.getElementById('totalCount').textContent = total;
            document.getElementById('watchedCount').textContent = watchedCount;
            document.getElementById('remainingCount').textContent = total - watchedCount;
        }

        function resetAll() {
            if (confirm('Reset all progress?')) {
                localStorage.removeItem('watchlist');
                watched = {};
                render();
            }
        }

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.onclick = function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                render();
            };
        });

        document.getElementById('search').oninput = function(e) {
            searchTerm = e.target.value;
            render();
        };

        render();
    </script>
</body>
</html>
